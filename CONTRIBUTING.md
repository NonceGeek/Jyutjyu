# è´¡çŒ®æŒ‡å— Contributing Guide

æ„Ÿè°¢ä½ å¯¹**ç²¤è¯­è¾ä¸›**é¡¹ç›®çš„å…³æ³¨ï¼æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå¼€æºçš„ç²¤è¯­è¯å…¸èšåˆå¹³å°ï¼Œæˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ã€‚

## ğŸ“‹ ç›®å½•

1. [è´¡çŒ®æ–¹å¼](#è´¡çŒ®æ–¹å¼)
2. [æ•°æ®è´¡çŒ®](#æ•°æ®è´¡çŒ®)
3. [ä»£ç è´¡çŒ®](#ä»£ç è´¡çŒ®)
4. [é—®é¢˜åé¦ˆ](#é—®é¢˜åé¦ˆ)
5. [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
6. [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
7. [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)

---

## ğŸ¤ è´¡çŒ®æ–¹å¼

### 1. æ•°æ®è´¡çŒ®ï¼ˆæ¨èï¼‰

- æ ¡å¯¹ OCR æå–çš„è¯å…¸æ•°æ®
- æä¾›æ–°çš„ç²¤è¯­è¯å…¸èµ„æº
- è¡¥å……è¯æ¡çš„ä¾‹å¥ã€é‡Šä¹‰
- ä¿®æ­£é”™è¯¯çš„ç²¤æ‹¼æˆ–æ±‰å­—

### 2. ä»£ç è´¡çŒ®

- ä¿®å¤ Bug
- å®ç°æ–°åŠŸèƒ½
- ä¼˜åŒ–æ€§èƒ½
- æ”¹è¿› UI/UX
- ç¼–å†™æµ‹è¯•

### 3. æ–‡æ¡£è´¡çŒ®

- å®Œå–„é¡¹ç›®æ–‡æ¡£
- ç¿»è¯‘æ–‡æ¡£ï¼ˆè‹±æ–‡ï¼‰
- ç¼–å†™æ•™ç¨‹
- æ”¹è¿›æ³¨é‡Š

### 4. æ¨å¹¿ä¼ æ’­

- åˆ†äº«é¡¹ç›®ç»™ç²¤è¯­å­¦ä¹ è€…
- åœ¨ç¤¾äº¤åª’ä½“æ¨å¹¿
- æ’°å†™ä½¿ç”¨ä½“éªŒæ–‡ç« 

---

## ğŸ“š æ•°æ®è´¡çŒ®

æ•°æ®è´¡çŒ®æ˜¯æœ¬é¡¹ç›®æœ€é‡è¦çš„éƒ¨åˆ†ï¼

### å‰ç½®è¦æ±‚

1. ç†Ÿæ‚‰ç²¤è¯­ï¼ˆä¼šå¬è¯´æˆ–èƒ½æŸ¥å·¥å…·ä¹¦ï¼‰
2. äº†è§£åŸºæœ¬çš„ç²¤æ‹¼è§„åˆ™ï¼ˆå¯å­¦ä¹  [ç²¤æ‹¼æ•™ç¨‹](https://jyut.net)ï¼‰
3. æœ‰ä¸€å®šçš„æ•°æ®å½•å…¥ç»éªŒ

### è´¡çŒ®æµç¨‹

#### Step 1: è·å–æ•°æ®æº

**æ–¹å¼ A - æ ¡å¯¹å·²æœ‰ OCR æ•°æ®**  
æŸ¥çœ‹ [`data/raw/`](./data/raw/) ç›®å½•ä¸‹æ˜¯å¦æœ‰å¾…æ ¡å¯¹çš„ CSV æ–‡ä»¶ã€‚

**æ–¹å¼ B - æä¾›æ–°è¯å…¸**  
å¦‚æœä½ æœ‰ç²¤è¯­è¯å…¸èµ„æºï¼ˆçº¸è´¨æˆ–ç”µå­ï¼‰:
1. åœ¨ [Discussions](https://github.com/jyutjyucom/jyutjyu/discussions) å‘å¸–è¯´æ˜
2. ä¸ç»´æŠ¤è€…è®¨è®ºç‰ˆæƒå’Œå½•å…¥æ–¹æ¡ˆ
3. è·å¾—æ‰¹å‡†åå¼€å§‹ OCR æˆ–æ‰‹å·¥å½•å…¥

#### Step 2: å­¦ä¹  CSV è§„èŒƒ

è¯¦ç»†é˜…è¯» [CSV å½•å…¥è§„èŒƒ](./docs/CSV_GUIDE.md)ï¼Œäº†è§£:
- å¿…å¡«å­—æ®µ
- ç²¤æ‹¼æ ¼å¼
- å¤šä¹‰é¡¹å¤„ç†
- ç‰¹æ®Šæƒ…å†µå¤„ç†

#### Step 3: å½•å…¥æ•°æ®

1. ä¸‹è½½ [CSV æ¨¡æ¿](./data/templates/entry-template.csv)
2. ä½¿ç”¨ Excel / Google Sheets æ‰“å¼€
3. æŒ‰è§„èŒƒé€è¡Œå½•å…¥
4. **ä¿å­˜ä¸º UTF-8 ç¼–ç çš„ CSV**

**æ ¡å¯¹æŠ€å·§**:
- æ¯å½•å…¥ 50-100 æ¡ï¼Œè¿è¡Œä¸€æ¬¡éªŒè¯è„šæœ¬
- ä½¿ç”¨ [ç²¤éŸ³èµ„æ–™é›†æˆ](https://jyut.net) æ ¸å¯¹ç²¤æ‹¼
- é‡åˆ°ç–‘é—®è®°å½•åœ¨ `notes` æ 

#### Step 4: éªŒè¯æ•°æ®

å®‰è£…ä¾èµ–å¹¶è¿è¡ŒéªŒè¯:

```bash
# å®‰è£… Node.js ä¾èµ–
pnpm install

# éªŒè¯ CSV æ–‡ä»¶
pnpm run validate -- data/processed/your-file.csv
```

ä¿®å¤æ‰€æœ‰æŠ¥é”™åå†æäº¤ã€‚

#### Step 5: æäº¤ Pull Request

1. Fork æœ¬ä»“åº“
2. å°†æ ¡å¯¹å¥½çš„ CSV æ”¾å…¥ `data/processed/`
3. åˆ›å»ºåˆ†æ”¯: `git checkout -b data/add-xxx-dictionary`
4. æäº¤: `git commit -m "feat(data): æ·»åŠ ã€Šxxxè¯å…¸ã€‹æ•°æ®"`
5. Push å¹¶åˆ›å»º PR

**PR æ¨¡æ¿**:

```markdown
## æ•°æ®è´¡çŒ®

### è¯å…¸ä¿¡æ¯
- **ä¹¦å**: ã€Šå®ç”¨å¹¿å·è¯åˆ†ç±»è¯å…¸ã€‹
- **ä½œè€…**: éº¦è€˜ã€è°­æ­¥äº‘
- **å‡ºç‰ˆç¤¾**: å¹¿ä¸œäººæ°‘å‡ºç‰ˆç¤¾
- **å‡ºç‰ˆå¹´ä»½**: 1997 å¹´
- **æ¡ç›®æ•°**: 5234 æ¡

### å®Œæˆæƒ…å†µ
- [x] OCR æå–
- [x] äººå·¥æ ¡å¯¹
- [x] ç²¤æ‹¼æ ‡æ³¨
- [x] éªŒè¯é€šè¿‡

### å¤‡æ³¨
éƒ¨åˆ†å¼€å¤©çª—å­—å·²ç”¨ â–¡ æ ‡è®°ï¼Œå¹¶åœ¨ notes ä¸­æ³¨æ˜å¸¸è§å†™æ³•ã€‚

### Checklist
- [x] å·²é˜…è¯» CSV å½•å…¥è§„èŒƒ
- [x] è¿è¡ŒéªŒè¯è„šæœ¬æ— é”™è¯¯
- [x] æ–‡ä»¶ç¼–ç ä¸º UTF-8
- [x] ç‰ˆæƒåˆè§„ï¼ˆå…¬ç‰ˆæˆ–å·²æˆæƒï¼‰
```

---

## ğŸ’» ä»£ç è´¡çŒ®

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- pnpm >= 8.0.0
- ç†Ÿæ‚‰ Vue 3 / Nuxt 3

### å¼€å‘æµç¨‹

#### Step 1: è®¾ç½®å¼€å‘ç¯å¢ƒ

```bash
# Fork å¹¶ Clone ä»“åº“
git clone https://github.com/YOUR_USERNAME/jyutjyu.git
cd jyutjyu

# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

è®¿é—® http://localhost:3000

#### Step 2: åˆ›å»ºåŠŸèƒ½åˆ†æ”¯

```bash
git checkout -b feat/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

#### Step 3: å¼€å‘ä¸æµ‹è¯•

- ä»£ç é£æ ¼éµå¾ª [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- ç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆå¦‚é€‚ç”¨ï¼‰

```bash
# è¿è¡Œ Linter
pnpm run lint

# è¿è¡Œæµ‹è¯•
pnpm test

# æ„å»ºæ£€æŸ¥
pnpm build
```

#### Step 4: æäº¤ Pull Request

```bash
git add .
git commit -m "feat: æ·»åŠ ç²¤æ‹¼æœç´¢åŠŸèƒ½"
git push origin feat/your-feature-name
```

åˆ›å»º PR å¹¶è¯¦ç»†æè¿°:
- è§£å†³äº†ä»€ä¹ˆé—®é¢˜
- å¦‚ä½•æµ‹è¯•
- æˆªå›¾ï¼ˆå¦‚ UI æ”¹åŠ¨ï¼‰

---

## ğŸ› é—®é¢˜åé¦ˆ

### å¦‚ä½•æ Issue

1. æœç´¢æ˜¯å¦å·²æœ‰ç±»ä¼¼ Issue
2. é€‰æ‹©åˆé€‚çš„ Issue æ¨¡æ¿
3. æä¾›è¯¦ç»†ä¿¡æ¯:
   - æµè§ˆå™¨ç‰ˆæœ¬
   - å¤ç°æ­¥éª¤
   - æœŸæœ›è¡Œä¸º vs å®é™…è¡Œä¸º
   - æˆªå›¾ï¼ˆå¦‚æœ‰ï¼‰

### Issue æ¨¡æ¿ç¤ºä¾‹

```markdown
**æè¿°é—®é¢˜**
æœç´¢"é˜¿Sir"æ—¶ï¼Œç®€ä½“"é˜¿sir"æ— æ³•åŒ¹é…ã€‚

**å¤ç°æ­¥éª¤**
1. æ‰“å¼€é¦–é¡µ
2. è¾“å…¥"é˜¿sir"ï¼ˆå…¨å°å†™ï¼‰
3. ç‚¹å‡»æœç´¢
4. æ— ç»“æœ

**æœŸæœ›è¡Œä¸º**
åº”è¯¥èƒ½åŒ¹é…åˆ°"é˜¿Sir"è¯æ¡ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€‚

**ç¯å¢ƒ**
- æµè§ˆå™¨: Chrome 120
- æ“ä½œç³»ç»Ÿ: macOS 14
- ç½‘ç«™ç‰ˆæœ¬: v0.1.0

**æˆªå›¾**
[é™„ä¸Šæˆªå›¾]
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
jyutjyu/
â”œâ”€â”€ components/       # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ DictCard.vue
â”‚   â”œâ”€â”€ DictTable.vue
â”‚   â””â”€â”€ SearchBar.vue
â”œâ”€â”€ composables/      # Vue Composables (ç»„åˆå¼å‡½æ•°)
â”‚   â”œâ”€â”€ useSearch.ts
â”‚   â””â”€â”€ useDictionary.ts
â”œâ”€â”€ pages/            # Nuxt é¡µé¢
â”‚   â”œâ”€â”€ index.vue
â”‚   â””â”€â”€ search.vue
â”œâ”€â”€ content/          # Nuxt Content æ•°æ®
â”‚   â””â”€â”€ dictionaries/
â”œâ”€â”€ scripts/          # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ csv-to-json.js
â”‚   â””â”€â”€ validate.js
â”œâ”€â”€ types/            # TypeScript ç±»å‹
â””â”€â”€ nuxt.config.ts    # Nuxt é…ç½®
```

### å…³é”®æŠ€æœ¯ç‚¹

#### 1. Nuxt Content æŸ¥è¯¢

```typescript
// composables/useDictionary.ts
export const useDictionary = () => {
  const searchEntries = async (query: string) => {
    return await queryContent('dictionaries')
      .where({
        $or: [
          { 'headword.search': { $contains: query } },
          { 'keywords': { $contains: query } }
        ]
      })
      .find()
  }
}
```

#### 2. MiniSearch é›†æˆ

```typescript
// composables/useSearch.ts
import MiniSearch from 'minisearch'

const miniSearch = new MiniSearch({
  fields: ['headword.search', 'keywords', 'senses.definition'],
  storeFields: ['id', 'headword', 'phonetic'],
  searchOptions: {
    boost: { 'headword.search': 2 },
    fuzzy: 0.2
  }
})
```

#### 3. å“åº”å¼å¸ƒå±€

```vue
<template>
  <!-- ç§»åŠ¨ç«¯ï¼šå¡ç‰‡ -->
  <div class="md:hidden">
    <DictCard v-for="entry in entries" :key="entry.id" :entry="entry" />
  </div>
  
  <!-- æ¡Œé¢ç«¯ï¼šè¡¨æ ¼ -->
  <div class="hidden md:block">
    <DictTable :entries="entries" />
  </div>
</template>
```

---

## ğŸ“ ä»£ç è§„èŒƒ

### TypeScript

- ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ (`strict: true`)
- é¿å… `any`ï¼Œä½¿ç”¨å…·ä½“ç±»å‹
- å¯¼å‡ºç±»å‹åˆ° `types/` ç›®å½•

### Vue ç»„ä»¶

- ä½¿ç”¨ Composition API (`<script setup>`)
- Props å’Œ Emits ä½¿ç”¨ TypeScript ç±»å‹
- ç»„ä»¶å‘½åç”¨ PascalCase

```vue
<script setup lang="ts">
interface Props {
  entry: DictionaryEntry
}

const props = defineProps<Props>()
</script>
```

### CSS

- ä½¿ç”¨ Tailwind CSS ç±»å
- é¿å…è‡ªå®šä¹‰ CSSï¼ˆé™¤éå¿…è¦ï¼‰
- å“åº”å¼æ–­ç‚¹: `sm:` `md:` `lg:`

### å‘½åçº¦å®š

- æ–‡ä»¶å: `kebab-case.vue`
- å˜é‡: `camelCase`
- å¸¸é‡: `UPPER_SNAKE_CASE`
- ç±»å‹: `PascalCase`

---

## ğŸ“ æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒ:

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type ç±»å‹

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é“¾

### Scope èŒƒå›´

- `data`: æ•°æ®ç›¸å…³
- `search`: æœç´¢åŠŸèƒ½
- `ui`: ç•Œé¢
- `build`: æ„å»ºè„šæœ¬
- `docs`: æ–‡æ¡£

### ç¤ºä¾‹

```bash
feat(search): æ·»åŠ ç²¤æ‹¼æ¨¡ç³Šæœç´¢

- æ”¯æŒä¸å¸¦å£°è°ƒçš„ç²¤æ‹¼æœç´¢
- æ·»åŠ æ‹¼éŸ³å½’ä¸€åŒ–å¤„ç†
- æ›´æ–°æœç´¢ç´¢å¼•æƒé‡

Closes #42
```

---

## ğŸ¯ ä¼˜å…ˆçº§ä»»åŠ¡

å½“å‰æœ€éœ€è¦çš„è´¡çŒ®:

1. **æ•°æ®æ ¡å¯¹** - é¦–æ‰¹ä¸¤æœ¬è¯å…¸çš„ OCR æ ¡å¯¹
2. **æœç´¢ä¼˜åŒ–** - MiniSearch é›†æˆä¸è°ƒä¼˜
3. **å“åº”å¼UI** - å¡ç‰‡/è¡¨æ ¼è§†å›¾å®ç°
4. **æ–‡æ¡£ç¿»è¯‘** - README ç­‰æ–‡æ¡£çš„è‹±æ–‡ç‰ˆæœ¬

---

## ğŸ’¬ è”ç³»æ–¹å¼

- **GitHub Discussions**: [è®¨è®ºåŒº](https://github.com/jyutjyucom/jyutjyu/discussions)
- **Issues**: [é—®é¢˜è¿½è¸ª](https://github.com/jyutjyucom/jyutjyu/issues)
- **Email**: your-email@example.com

---

## ğŸ“œ è¡Œä¸ºå‡†åˆ™

- å°Šé‡æ‰€æœ‰è´¡çŒ®è€…
- åŒ…å®¹ä¸åŒçš„è§‚ç‚¹
- æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨é¡¹ç›®åˆ©ç›Š

---

**å†æ¬¡æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼** ğŸ™

æ¯ä¸€è¡Œä»£ç ã€æ¯ä¸€æ¡æ•°æ®éƒ½æ˜¯åœ¨ä¸ºç²¤è¯­æ–‡åŒ–çš„ä¿è‚²å’Œä¼ æ‰¿æ·»ç –åŠ ç“¦ã€‚

